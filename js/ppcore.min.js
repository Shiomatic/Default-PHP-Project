$(function(){$("form.use-ajax").on("submit",function(n){n.preventDefault();ppcore.form.do($(this))});$("form.use-ajax input").on("keydown keyup",function(){var n=$(this);ppcore.form.validate.check(n)})});var ppcore={form:{"do":function(n){var i=ppcore.form.validate.do(n),r,t;i&&(r=n.attr("action"),t=ppcore.form.obtain(n),ppcore.form.submit(t,n))},validate:{"do":function(n){var t=!0,i=$("input",n);return i.each(function(){var n=$(this),i=ppcore.form.validate.check(n);i||(t=!1)}),t},check:function(n){var t=!0,i=n.attr("placeholder"),r=$.trim(n.val()),u=n.attr("type");return i&&i.indexOf("*")>=0&&(r?u=="email"?r.indexOf("@")<0?(n.addClass("form-error"),t=!1):n.removeClass("form-error"):n.removeClass("form-error"):(n.addClass("form-error"),t=!1)),t}},obtain:function(n){var i=$("input, textarea",n),t={};return i.each(function(){this.name&&(t[this.name]=$(this).val())}),t},submit:function(n,t){n?$.post("../form.php",n,function(n){console.log(n);var i=JSON.parse(n);$(".form-ajax-alert",t).remove();i.error.length&&$.each(i.error,function(n,i){t.prepend('<div class="form-ajax-alert alert alert-danger">'+i+"<\/div>")});i.success.length&&$.each(i.success,function(n,i){t.prepend('<div class="form-ajax-alert alert alert-success">'+i+"<\/div>")})}):console.log("could not submit: no action available")}}};